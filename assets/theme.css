/* ========= Pastel Formal Theme (light UI) ======== */

/* 1) Design tokens */
:root{
  /* Neutrals */
  --bg: #f7f9fc;            /* app background */
  --surface: #ffffff;       /* cards, panels */
  --surface-2: #f1f5fb;     /* subtle alt rows */
  --ink: #1b2430;           /* primary text */
  --muted: #5b6473;         /* secondary text */
  --line: #d8e1f0;          /* hairlines */

  /* Pastel accents */
  --p1: #93c5fd;  /* powder blue */
  --p2: #c4b5fd;  /* soft lavender */
  --p3: #a7f3d0;  /* mint */
  --p4: #fbcfe8;  /* rose */
  --accent: var(--p2);

  /* Effects */
  --radius: 16px;
  --shadow-1: 0 8px 24px rgba(15, 23, 42, .08);
  --shadow-2: 0 16px 48px rgba(15, 23, 42, .10);

  --gap: 12px;
}

/* 2) Base */
* { box-sizing:border-box; }
html,body { height:100%; }
body {
  margin:0;
  font-family: 'Space Grotesk', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: var(--ink);
  background:
    radial-gradient(1200px 800px at 15% 5%, #fff 0%, transparent 60%),
    radial-gradient(1000px 700px at 85% 10%, #eef4ff 0%, transparent 60%),
    linear-gradient(#f7f9fc, #f7f9fc);
  background-attachment: fixed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x:hidden;
}

/* Optional faint paper grain */
body::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:-1; opacity:.03;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.7'/%3E%3C/svg%3E");
}

/* 3) Layout primitives */
.wrap { width:min(1100px, 92%); margin-inline:auto; }
.section { padding: 44px 0; }
.section h2 { font-size:clamp(1.5rem, 2.2vw, 2rem); margin-bottom:12px; }

/* 4) Header / Nav */
.header {
  position: sticky; top:0; z-index: 20;
  backdrop-filter: blur(8px);
  background: rgba(255,255,255,.8);
  border-bottom: 1px solid var(--line);
}
.nav { display:flex; align-items:center; justify-content:space-between; padding: 14px 0; }
.brand { display:flex; align-items:center; gap:.7rem; text-decoration:none; color:inherit; }
.logo {
  width:40px; height:40px; border-radius:12px;
  background: conic-gradient(from var(--rot,0deg), var(--p1), var(--p2), var(--p3), var(--p4), var(--p1));
  display:grid; place-items:center; box-shadow: var(--shadow-1); border:1px solid #e6ecfb;
}
.title{ font-weight:700; letter-spacing:.2px; }
.links { display:flex; gap:1rem; }
.links a {
  color: var(--ink); text-decoration:none; font-weight:700; opacity:.9;
  border-radius:10px; padding:8px 10px;
}
.links a:hover { background: var(--surface-2); }

/* 5) Hero */
.hero { min-height: 78vh; display:grid; place-items:center; }
.hgrid { display:grid; grid-template-columns: 1.05fr .95fr; gap: 44px; align-items:center; }
.h1 { font-size: clamp(2.6rem, 6vw, 4.8rem); line-height:1.04; letter-spacing:-.01em; }
.lead { color: var(--muted); margin-top: 10px; }
.actions { display:flex; gap:12px; margin-top:18px; flex-wrap:wrap; }
.iconbtn{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:#fff;border:1px solid var(--line);transition:transform .08s,box-shadow .2s}
.iconbtn:hover{transform:translateY(-1px);box-shadow:var(--shadow-1)}
.portrait { width: 340px; max-width: 100%; aspect-ratio: 3/4; border-radius: 18px; overflow: hidden; background: #fff; border:1px solid #eaeef8; }
.portrait img { width:100%; height:100%; object-fit: cover; filter: saturate(.98) contrast(1.02); }

/* 6) Cards / Grids (Desmos + Notebook) */
.grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:16px; }
.card {
  border-radius: var(--radius);
  border: 1px solid var(--line);
  background: var(--surface);
  box-shadow: var(--shadow-1);
  overflow:hidden;
  transition: transform .15s ease, box-shadow .2s ease;
}
.card:hover { transform: translateY(-2px); box-shadow: var(--shadow-2); }
.card img { display:block; width:100%; height:auto; border-bottom:1px solid var(--line); }
.card a { display:block; padding:14px 16px; color:var(--ink); text-decoration:none; font-weight:700; }

.notebook { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:16px; }
.note{
  border-radius: var(--radius);
  border: 1px solid var(--line);
  background: var(--surface);
  padding: 16px;
  box-shadow: var(--shadow-1);
}
.note a{ display:flex; align-items:center; justify-content:space-between; gap:12px; color:var(--ink); text-decoration:none; font-weight:700 }
.badge{
  font-size:.85rem; padding:.28rem .6rem; border-radius:999px;
  background: linear-gradient(135deg, var(--p1), var(--p2)); color:#0a0c18; border:1px solid #e6ecfb;
}

/* 7) Courses rail (kept simple, compatible with your JS) */
.rail{position:relative;overflow-x:auto;overflow-y:hidden;border-radius:16px;border:1px solid var(--line);background:var(--surface);scrollbar-width:thin;scrollbar-color:#bcd0ff transparent;cursor:grab}
.rail:active{cursor:grabbing}
.track{display:flex;gap:18px;align-items:center;padding:16px;min-width:max-content}
.chip{position:relative;padding:.85rem 1.1rem;border-radius:14px;border:1px solid #e6ecfb;background:#fff;font-weight:800;box-shadow:0 8px 20px rgba(0,0,0,.04);white-space:nowrap;transition:transform .18s,box-shadow .25s,border-color .2s,background .2s,opacity .2s,filter .2s}
.rail.paused .chip{opacity:.6;filter:saturate(.85)}
.rail.paused .chip.active{opacity:1;filter:none}
.chip.active{transform:translateZ(0) scale(1.06);background:linear-gradient(180deg,#fff,#f8faff);border-color:#dfe7fb;box-shadow:0 18px 40px rgba(147,197,253,.25)}
.course-info{position:relative;margin-top:16px}
.course-panel{display:none;grid-template-columns:1.2fr .8fr;gap:16px;align-items:center;border:1px solid var(--line);border-radius:16px;background:var(--surface);box-shadow:var(--shadow-1);padding:16px}
.course-panel.show{display:grid}
.preview{position:relative;width:100%;border:1px solid var(--line);border-radius:12px;overflow:hidden;background:linear-gradient(180deg,#fafcff,#f2f6ff)}
#courseCanvas{width:100%;height:260px;display:block}

/* 8) Reveal-on-scroll utility (used by your JS) */
.reveal{opacity:0;transform:translateY(16px);transition:opacity .6s,transform .6s}
.reveal.on{opacity:1;transform:none}

/* 9) Footer */
footer .nav { padding: 8px 0 !important; }
footer { color:#6b7280; }

/* 10) Responsive */
@media (max-width: 980px) {
  .hgrid { grid-template-columns: 1fr; }
  .portrait { width: 60vw; }
}
@media (prefers-reduced-motion: reduce){
  .reveal{transition:none}
}
